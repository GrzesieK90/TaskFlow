import{d as U,k as b,i as S,c as u,a as t,l as _,v as $,p as j,t as l,g as y,F as D,r as w,s as O,o as d,n as q,_ as L,e as I,A as Q,h as W,m as J,b as H,u as G,B as K,z as X}from"./index-d76750ee.js";import{u as Y}from"./github-84d39e29.js";const Z={class:"task-list"},x={class:"task-list-header"},tt={class:"task-filters"},st={class:"task-stats"},et={class:"stat-item"},at={class:"stat-value"},ot={class:"stat-item"},lt={class:"stat-value"},it={class:"stat-item"},nt={class:"stat-value"},rt={class:"stat-item"},ut={class:"stat-value"},dt={key:0,class:"task-form card"},ct={class:"form-row"},pt={class:"form-actions"},vt={key:1,class:"no-tasks"},_t={key:2,class:"tasks-grid"},mt={class:"column-title"},ht={class:"task-cards"},gt={class:"task-card-header"},yt={class:"task-actions"},kt=["onClick"],ft=["onClick"],$t={class:"task-description"},bt={class:"task-footer"},Dt={key:0,class:"task-due-date"},wt=["onUpdate:modelValue","onChange"],Tt=["value"],Ct=U({__name:"TaskList",props:{tasks:{}},emits:["update:tasks"],setup(T,{emit:h}){const a=T,r=h,e=b(!1),n=b({title:"",description:"",priority:"medium",dueDate:""}),k=["todo","in-progress","completed"],p={todo:"To Do","in-progress":"In Progress",completed:"Completed"},C=b(""),P=b(""),V=b("created-desc"),R=S(()=>a.tasks.filter(c=>c.status==="completed")),g=S(()=>a.tasks.filter(c=>c.status==="in-progress")),o=S(()=>a.tasks.filter(c=>c.status==="todo")),v=S(()=>a.tasks.length>0?Math.round(R.value.length/a.tasks.length*100):0),A=S(()=>{let c=[...a.tasks];if(C.value){const s=C.value.toLowerCase();c=c.filter(i=>i.title.toLowerCase().includes(s)||i.description.toLowerCase().includes(s))}return P.value&&(c=c.filter(s=>s.priority===P.value)),c.sort((s,i)=>{switch(V.value){case"created-desc":return new Date(i.createdAt).getTime()-new Date(s.createdAt).getTime();case"created-asc":return new Date(s.createdAt).getTime()-new Date(i.createdAt).getTime();case"due-desc":return s.dueDate?i.dueDate?new Date(i.dueDate).getTime()-new Date(s.dueDate).getTime():-1:1;case"due-asc":return s.dueDate?i.dueDate?new Date(s.dueDate).getTime()-new Date(i.dueDate).getTime():-1:1;default:return 0}}),c}),N=c=>A.value.filter(s=>s.status===c),M=()=>{const c={id:O(),title:n.value.title,description:n.value.description,status:"todo",priority:n.value.priority,dueDate:n.value.dueDate,createdAt:new Date().toISOString()};r("update:tasks",[...a.tasks,c]),n.value={title:"",description:"",priority:"medium",dueDate:""},e.value=!1},B=c=>{r("update:tasks",a.tasks.filter(s=>s.id!==c))},F=c=>{const s=a.tasks.map(i=>i.id===c?{id:i.id,title:i.title,description:i.description,status:"completed",priority:i.priority,dueDate:i.dueDate,createdAt:i.createdAt}:i);r("update:tasks",s)},z=c=>{const s=a.tasks.map(i=>i.id===c.id?c:i);r("update:tasks",s)},E=c=>new Date(c).toLocaleDateString();return(c,s)=>(d(),u("div",Z,[t("div",x,[s[11]||(s[11]=t("h3",null,"Tasks",-1)),t("div",tt,[_(t("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>C.value=i),type:"text",placeholder:"Search tasks...",class:"search-input"},null,512),[[$,C.value]]),_(t("select",{"onUpdate:modelValue":s[1]||(s[1]=i=>P.value=i),class:"filter-select"},s[9]||(s[9]=[t("option",{value:""},"All Priorities",-1),t("option",{value:"high"},"High Priority",-1),t("option",{value:"medium"},"Medium Priority",-1),t("option",{value:"low"},"Low Priority",-1)]),512),[[j,P.value]]),_(t("select",{"onUpdate:modelValue":s[2]||(s[2]=i=>V.value=i),class:"filter-select"},s[10]||(s[10]=[t("option",{value:"created-desc"},"Newest First",-1),t("option",{value:"created-asc"},"Oldest First",-1),t("option",{value:"due-asc"},"Due Date (Earliest)",-1),t("option",{value:"due-desc"},"Due Date (Latest)",-1)]),512),[[j,V.value]])]),t("button",{class:"btn-primary",onClick:s[3]||(s[3]=i=>e.value=!0)},"Add Task")]),t("div",st,[t("div",et,[s[12]||(s[12]=t("span",{class:"stat-label"},"Total Tasks:",-1)),t("span",at,l(c.tasks.length),1)]),t("div",ot,[s[13]||(s[13]=t("span",{class:"stat-label"},"Completed:",-1)),t("span",lt,l(R.value.length)+" ("+l(v.value)+"%)",1)]),t("div",it,[s[14]||(s[14]=t("span",{class:"stat-label"},"In Progress:",-1)),t("span",nt,l(g.value.length),1)]),t("div",rt,[s[15]||(s[15]=t("span",{class:"stat-label"},"To Do:",-1)),t("span",ut,l(o.value.length),1)])]),e.value?(d(),u("div",dt,[_(t("input",{"onUpdate:modelValue":s[4]||(s[4]=i=>n.value.title=i),type:"text",placeholder:"Task name",class:"task-input"},null,512),[[$,n.value.title]]),_(t("textarea",{"onUpdate:modelValue":s[5]||(s[5]=i=>n.value.description=i),placeholder:"Task description",class:"task-input"},null,512),[[$,n.value.description]]),t("div",ct,[_(t("select",{"onUpdate:modelValue":s[6]||(s[6]=i=>n.value.priority=i),class:"task-input"},s[16]||(s[16]=[t("option",{value:"low"},"Low Priority",-1),t("option",{value:"medium"},"Medium Priority",-1),t("option",{value:"high"},"High Priority",-1)]),512),[[j,n.value.priority]]),_(t("input",{"onUpdate:modelValue":s[7]||(s[7]=i=>n.value.dueDate=i),type:"date",class:"task-input"},null,512),[[$,n.value.dueDate]])]),t("div",pt,[t("button",{class:"btn-primary",onClick:M},"Save"),t("button",{onClick:s[8]||(s[8]=i=>e.value=!1)},"Cancel")])])):y("",!0),c.tasks.length===0?(d(),u("div",vt,"No tasks in this project")):(d(),u("div",_t,[(d(),u(D,null,w(k,i=>t("div",{key:i,class:"task-column"},[t("h4",mt,l(p[i]),1),t("div",ht,[(d(!0),u(D,null,w(N(i),m=>(d(),u("div",{key:m.id,class:q(["task-card",{"priority-high":m.priority==="high","priority-medium":m.priority==="medium","priority-low":m.priority==="low"}])},[t("div",gt,[t("h4",null,l(m.title),1),t("div",yt,[i!=="completed"?(d(),u("button",{key:0,class:"btn-icon",onClick:f=>F(m.id),title:"Complete task"}," ✓ ",8,kt)):y("",!0),t("button",{class:"btn-icon btn-danger",onClick:f=>B(m.id),title:"Delete task"}," × ",8,ft)])]),t("p",$t,l(m.description),1),t("div",bt,[m.dueDate?(d(),u("span",Dt," Due: "+l(E(m.dueDate)),1)):y("",!0),_(t("select",{"onUpdate:modelValue":f=>m.status=f,onChange:f=>z(m),class:"status-select"},[(d(),u(D,null,w(k,f=>t("option",{key:f,value:f},l(p[f]),9,Tt)),64))],40,wt),[[j,m.status]])])],2))),128))])])),64))]))]))}});const Pt=L(Ct,[["__scopeId","data-v-a3772a59"]]),St={class:"github-details"},jt={class:"github-header card"},Ut={class:"repo-info"},Lt=["src","alt"],Vt={class:"repo-meta"},Rt=["href"],Ht={key:0,class:"repo-stats"},It={class:"stat-item"},qt={class:"stat-value"},Gt={class:"stat-item"},At={class:"stat-value"},Nt={class:"stat-item"},Mt={class:"stat-value"},Bt={class:"stat-item"},Ft={class:"stat-value"},zt={class:"stat-item"},Et={class:"stat-value"},Ot={key:1,class:"repo-meta-info"},Qt={class:"meta-item"},Wt={class:"meta-item"},Jt={class:"meta-item"},Kt=U({__name:"GitHubDetails",props:{repo:{},stats:{}},setup(T){const h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(a,r)=>(d(),u("div",St,[t("div",jt,[t("div",Ut,[t("img",{src:a.repo.owner.avatar_url,alt:a.repo.owner.login,class:"avatar"},null,8,Lt),t("div",Vt,[t("h3",null,[t("a",{href:a.repo.html_url,target:"_blank"},l(a.repo.full_name),9,Rt)]),t("p",null,l(a.repo.description||"No description available"),1)])]),a.stats?(d(),u("div",Ht,[t("div",It,[t("span",qt,l(a.stats.stars),1),r[0]||(r[0]=t("span",{class:"stat-label"},"Stars",-1))]),t("div",Gt,[t("span",At,l(a.stats.forks),1),r[1]||(r[1]=t("span",{class:"stat-label"},"Forks",-1))]),t("div",Nt,[t("span",Mt,l(a.stats.watchers),1),r[2]||(r[2]=t("span",{class:"stat-label"},"Watchers",-1))]),t("div",Bt,[t("span",Ft,l(a.stats.issues),1),r[3]||(r[3]=t("span",{class:"stat-label"},"Issues",-1))]),t("div",zt,[t("span",Et,l(a.stats.contributors),1),r[4]||(r[4]=t("span",{class:"stat-label"},"Contributors",-1))])])):y("",!0),a.stats?(d(),u("div",Ot,[t("div",Qt,[r[5]||(r[5]=t("strong",null,"Language:",-1)),I(" "+l(a.stats.language||"Not specified"),1)]),t("div",Wt,[r[6]||(r[6]=t("strong",null,"License:",-1)),I(" "+l(a.stats.license),1)]),t("div",Jt,[r[7]||(r[7]=t("strong",null,"Last Update:",-1)),I(" "+l(h(a.stats.lastUpdate)),1)])])):y("",!0)])]))}});const Xt=L(Kt,[["__scopeId","data-v-fa81d04a"]]),Yt={key:0,class:"commits-section card"},Zt={class:"commits-list"},xt={class:"commit-header"},ts=["href"],ss={class:"commit-date"},es={class:"commit-message"},as={class:"commit-author"},os={class:"commit-email"},ls=U({__name:"GitHubCommits",props:{commits:{}},setup(T){const h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(a,r)=>a.commits&&a.commits.length?(d(),u("div",Yt,[r[0]||(r[0]=t("h3",null,"Recent Commits",-1)),t("div",Zt,[(d(!0),u(D,null,w(a.commits,e=>(d(),u("div",{key:e.sha,class:"commit-item"},[t("div",xt,[t("a",{href:e.html_url,target:"_blank",class:"commit-sha"},l(e.sha.substring(0,7)),9,ts),t("span",ss,l(h(e.author.date)),1)]),t("p",es,l(e.message),1),t("div",as,[t("span",null,l(e.author.name),1),t("span",os,l(e.author.email),1)])]))),128))])])):y("",!0)}});const is=L(ls,[["__scopeId","data-v-2d74f7db"]]),ns={key:0,class:"issues-section card"},rs={class:"issues-list"},us={class:"issue-header"},ds={class:"issue-title"},cs={class:"issue-number"},ps=["href"],vs={class:"issue-meta"},_s={class:"issue-user"},ms=["src","alt"],hs={class:"issue-date"},gs={key:0,class:"issue-labels"},ys=U({__name:"GitHubIssues",props:{issues:{}},setup(T){const h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(a,r)=>a.issues.length?(d(),u("div",ns,[r[0]||(r[0]=t("h3",null,"Issues",-1)),t("div",rs,[(d(!0),u(D,null,w(a.issues,e=>(d(),u("div",{key:e.id,class:"issue-item"},[t("div",us,[t("div",ds,[t("span",cs,"#"+l(e.number),1),t("a",{href:e.html_url,target:"_blank",class:"issue-link"},l(e.title),9,ps)]),t("span",{class:q(["issue-state",e.state])},l(e.state),3)]),t("div",vs,[t("div",_s,[t("img",{src:e.user.avatar_url,alt:e.user.login,class:"user-avatar"},null,8,ms),t("span",null,l(e.user.login),1)]),t("div",hs,l(h(e.created_at)),1)]),e.labels.length?(d(),u("div",gs,[(d(!0),u(D,null,w(e.labels,n=>(d(),u("span",{key:n.name,class:"label",style:Q({backgroundColor:"#"+n.color})},l(n.name),5))),128))])):y("",!0)]))),128))])])):y("",!0)}});const ks=L(ys,[["__scopeId","data-v-139ca662"]]),fs={key:0,class:"pull-requests-section card"},$s={class:"pull-requests-list"},bs={class:"pr-header"},Ds={class:"pr-title"},ws={class:"pr-number"},Ts=["href"],Cs={class:"pr-meta"},Ps={class:"pr-user"},Ss=["src","alt"],js={class:"pr-date"},Us={class:"pr-branches"},Ls={class:"branch"},Vs={class:"branch"},Rs=U({__name:"GitHubPullRequests",props:{pullRequests:{}},setup(T){const h=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(a,r)=>a.pullRequests.length?(d(),u("div",fs,[r[1]||(r[1]=t("h3",null,"Pull Requests",-1)),t("div",$s,[(d(!0),u(D,null,w(a.pullRequests,e=>(d(),u("div",{key:e.id,class:"pr-item"},[t("div",bs,[t("div",Ds,[t("span",ws,"#"+l(e.number),1),t("a",{href:e.html_url,target:"_blank",class:"pr-link"},l(e.title),9,Ts)]),t("span",{class:q(["pr-state",e.state])},l(e.state),3)]),t("div",Cs,[t("div",Ps,[t("img",{src:e.user.avatar_url,alt:e.user.login,class:"user-avatar"},null,8,Ss),t("span",null,l(e.user.login),1)]),t("div",js,l(h(e.created_at)),1)]),t("div",Us,[t("span",Ls,l(e.head.ref),1),r[0]||(r[0]=t("span",{class:"arrow"},"→",-1)),t("span",Vs,l(e.base.ref),1)])]))),128))])])):y("",!0)}});const Hs=L(Rs,[["__scopeId","data-v-97a7fde4"]]),Is={key:0,class:"project-details"},qs={class:"project-header"},Gs={class:"project-title"},As={class:"project-actions"},Ns={key:0,class:"project-edit card"},Ms={class:"form-group"},Bs={class:"form-group"},Fs={class:"form-row"},zs={class:"form-group"},Es={class:"form-group"},Os={class:"form-group"},Qs={class:"form-group"},Ws={class:"form-actions"},Js={key:1,class:"project-info card"},Ks={class:"description"},Xs={class:"meta-info"},Ys={class:"meta-item"},Zs={key:0,class:"meta-item"},xs={key:2,class:"github-section"},te={class:"github-activity"},se={class:"activity-column"},ee={class:"activity-column"},ae={key:1,class:"not-found"},oe=U({__name:"ProjectDetailsView",setup(T){const h=K(),a=X(),r=W(),e=Y(),n=S(()=>r.projectById(h.params.id)),k=b(!1),p=b({});J(async()=>{if(n.value&&(p.value={...n.value},n.value.githubRepo)){const[g,o]=n.value.githubRepo.full_name.split("/");await Promise.all([e.fetchCommits(g,o),e.fetchRepoStats(g,o),e.fetchIssues(g,o),e.fetchPullRequests(g,o)])}});const C=()=>{p.value&&(r.updateProject(n.value.id,p.value),k.value=!1)},P=()=>{confirm("Are you sure you want to delete this project?")&&(r.deleteProject(n.value.id),a.push("/projects"))},V=g=>{r.updateProject(n.value.id,{tasks:g})},R=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return(g,o)=>n.value?(d(),u("div",Is,[t("div",qs,[t("div",Gs,[t("h1",null,l(n.value.title),1),t("span",{class:q(["project-status",n.value.status])},l(n.value.status),3),t("span",{class:q(["project-priority",n.value.priority])},l(n.value.priority),3)]),t("div",As,[t("button",{onClick:o[0]||(o[0]=v=>k.value=!k.value),class:"btn-primary"},l(k.value?"Cancel":"Edit"),1),t("button",{onClick:P,class:"btn-danger"}," Delete Project ")])]),k.value?(d(),u("div",Ns,[t("div",Ms,[o[9]||(o[9]=t("label",null,"Title",-1)),_(t("input",{"onUpdate:modelValue":o[1]||(o[1]=v=>p.value.title=v),type:"text"},null,512),[[$,p.value.title]])]),t("div",Bs,[o[10]||(o[10]=t("label",null,"Description",-1)),_(t("textarea",{"onUpdate:modelValue":o[2]||(o[2]=v=>p.value.description=v),rows:"3"},null,512),[[$,p.value.description]])]),t("div",Fs,[t("div",zs,[o[12]||(o[12]=t("label",null,"Status",-1)),_(t("select",{"onUpdate:modelValue":o[3]||(o[3]=v=>p.value.status=v)},o[11]||(o[11]=[t("option",{value:"active"},"Active",-1),t("option",{value:"completed"},"Completed",-1),t("option",{value:"on-hold"},"On Hold",-1)]),512),[[j,p.value.status]])]),t("div",Es,[o[14]||(o[14]=t("label",null,"Priority",-1)),_(t("select",{"onUpdate:modelValue":o[4]||(o[4]=v=>p.value.priority=v)},o[13]||(o[13]=[t("option",{value:"low"},"Low",-1),t("option",{value:"medium"},"Medium",-1),t("option",{value:"high"},"High",-1)]),512),[[j,p.value.priority]])])]),t("div",Os,[o[15]||(o[15]=t("label",null,"Due Date",-1)),_(t("input",{type:"date","onUpdate:modelValue":o[5]||(o[5]=v=>p.value.dueDate=v)},null,512),[[$,p.value.dueDate]])]),t("div",Qs,[o[16]||(o[16]=t("label",null,"GitHub Repository URL",-1)),_(t("input",{type:"text","onUpdate:modelValue":o[6]||(o[6]=v=>p.value.repoUrl=v),placeholder:"owner/repo"},null,512),[[$,p.value.repoUrl]])]),t("div",Ws,[t("button",{onClick:C,class:"btn-primary"},"Save Changes"),t("button",{onClick:o[7]||(o[7]=v=>k.value=!1),class:"btn-secondary"},"Cancel")])])):(d(),u("div",Js,[t("p",Ks,l(n.value.description),1),t("div",Xs,[t("div",Ys,[o[17]||(o[17]=t("strong",null,"Created:",-1)),I(" "+l(R(n.value.createdAt)),1)]),n.value.dueDate?(d(),u("div",Zs,[o[18]||(o[18]=t("strong",null,"Due Date:",-1)),I(" "+l(R(n.value.dueDate)),1)])):y("",!0)])])),n.value.githubRepo?(d(),u("div",xs,[H(Xt,{repo:n.value.githubRepo,stats:G(e).repoStats??void 0},null,8,["repo","stats"]),t("div",te,[t("div",se,[H(ks,{issues:G(e).issues},null,8,["issues"])]),t("div",ee,[H(Hs,{pullRequests:G(e).pullRequests},null,8,["pullRequests"])])]),H(Pt,{tasks:n.value.tasks,"onUpdate:tasks":[o[8]||(o[8]=v=>n.value.tasks=v),V]},null,8,["tasks"]),H(is,{commits:G(e).commits},null,8,["commits"])])):y("",!0)])):(d(),u("div",ae," Project not found "))}});const ne=L(oe,[["__scopeId","data-v-2f2c55d9"]]);export{ne as default};
